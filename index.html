<!DOCTYPE html>
<html>
      <title>N-Gram</title>
<body style="Background-color:black;">
      <h1 style="color:white; text-align: center; font-family: arial;">N-Gram</h1>
      <br>
      <pre style="color:white; text-align: left; font-family: arial;">import random

def n_gram():
    freq_dict = []
    successor_map = {}
    punctuation = (",/;':'~.-@#\"$%^&*`|")
    word1 = input(": ").strip().lower()
    word2 = input(": ").strip().lower()
    word3 = input(": ").strip().lower()
    word4 = input(": ").strip().lower()
    num_words = int(input(": "))

    story = open("C:/Users/josep/Downloads/The_Seventh_Man.txt", "r", encoding="Utf-8")
    for line in story:
        clean_lines = line.split()
        for word in clean_lines:
            cleaned_word = word.strip(punctuation).lower()
            freq_dict.append(cleaned_word)
            if len(freq_dict) == 5:
                key = (freq_dict[0], freq_dict[1], freq_dict[2], freq_dict[3])
                succ = freq_dict[4]
                if key not in successor_map:
                    successor_map[key] = [succ]
                else: 
                    successor_map[key].append(succ)
                freq_dict.pop(0)

    print(word1, word2, word3, word4, end = ' ')
    for i in range(num_words - 4):
        key = (word1, word2, word3)
        if key in successor_map and successor_map[key]:
            nxt = random.choice(successor_map[key])
        else:
            rand_key = random.choice(list(successor_map.keys()))
            nxt = random.choice(successor_map[rand_key])
        print(nxt, end = ' ')
        word1, word2, word3, word4 = word2, word3, word4, nxt

    print()

n_gram()
</pre>

</body>
</html> 
